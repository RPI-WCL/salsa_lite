module salsa_lite.local_fcs.language;

behavior ContinuationDirector {

	boolean unresolved = true;
	Message message = null;

	ContinuationDirector() {}

	ack resolve() {
		if (message != null) {
			StageService.sendMessage(message);
		} else {
			unresolved = false;
		}
	}

    //need to deal with multiple setMessage messages being received
	ack setMessage(Message message) {
		if (unresolved) {
			self.message = message;
		} else {
			StageService.sendMessage(message);
		}
	}
}
